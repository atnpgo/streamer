<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Stream</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/webrtc-adapter/6.4.0/adapter.min.js" type="text/javascript"></script>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300&display=swap" rel="stylesheet">
    <link href="style.css" rel="stylesheet">

    <script crossorigin="anonymous" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
            src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script crossorigin="anonymous" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
            src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script crossorigin="anonymous" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>


    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-app.js" type="application/javascript"></script>
    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-auth.js" type="application/javascript"></script>
    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-storage.js" type="application/javascript"></script>
    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-firestore.js" type="application/javascript"></script>
    <script src="init-firebase.js"></script>

    <script src="janus.js" type="text/javascript"></script>
    <script src="screensharingtest.js" type="text/javascript"></script>

    <meta content="website" property="og:type"/>
    <meta content="https://stream.atnpgo.wtf/" property="og:url"/>
    <meta content="Streamer" property="og:title"/>
    <meta content="Private streaming platform" property="og:description"/>
    <meta content="en_CA" property="og:locale"/>
    <script type="application/ld+json">
        {
            "@context": "http://schema.org",
            "@type": "WebSite",
            "name": "Streamer",
            "description": "Private streaming platform",
            "url": "https://stream.atnpgo.wtf/"
        }

    </script>
</head>
<body>
<div class="d-flex" id="container">
    <div class="container" id="screenmenu">

        <div style="display:flex;justify-content:center;align-items:center;height: 100%">
            <div class="d-flex flex-column justify-content-between" style="min-height: 240px; min-width: 480px">
                <div class="input-group mb-md-2" id="createnow">
                    <input autocomplete="off" class="form-control" id="desc" onkeypress="return checkEnterShare(this, event);" placeholder="Insert a title for the session"
                           type="text"/>
                    <div class="input-group-append">
                        <button class="btn btn-outline-dark" id="create" type="submit">Share your screen</button>
                    </div>
                </div>
                <div class="input-group mb-md-2" id="joinnow">
                    <input autocomplete="off" class="form-control" id="roomid" onkeypress="return checkEnterJoin(this, event);" placeholder="Insert the numeric session identifier"
                           type="text"/>
                    <div class="input-group-append">
                        <button class="btn btn-outline-dark" id="join">Join an existing session</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container d-none" id="room">
        <div class="row">
            <div class="col-md-12">
                <div class="panel panel-default">
                    <div class="panel-body" id="screencapture"></div>
                </div>
            </div>
        </div>
    </div>


    <div class="sidebar d-flex flex-column">
        <div class="btn-toolbar m-2 justify-content-between align-item-middle" role="toolbar">
            <div class="btn-group" role="group">
                <button class="btn btn-outline-dark" id="btn-fullscreen" type="button"><i class="fas fa-expand-arrows-alt"></i></button>
            </div>
            <div class="d-flex align-items-center">
                <img class="mr-2" id="pfp" src="profile_placeholder.png" style="height: 2rem;border-radius: 1rem">
                <span class="" id="name">Please sign in <i class="fas fa-arrow-right"></i></span>
            </div>
            <div role="group">
                <button class="btn btn-outline-dark" id="btn-sign-in" type="button"><i class="fas fa-sign-in-alt"></i></button>
                <button class="btn btn-outline-dark" id="btn-sign-out" type="button"><i class="fas fa-sign-out-alt"></i></button>
            </div>
        </div>
        <div class="chat"></div>
        <div class="chat-box m-2">
            <form class="input-group" id="form-send-message">
                <div class="input-group-prepend">
                    <button class="btn btn-outline-dark" disabled="disabled" id="btn-add-image" type="button"><i class="fas fa-image"></i></button>
                </div>
                <input aria-describedby="btn-send" aria-label="Message Body" class="form-control" disabled="disabled" placeholder="Please sign in to send messages" type="text">
                <div class="input-group-append">
                    <button class="btn btn-outline-dark" disabled="disabled" id="btn-send" type="submit">Send</button>
                </div>
            </form>
        </div>
    </div>
</div>
<div class="modal" id="no-stream-modal" role="dialog" tabindex="-1">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">No Stream Specified</h5>
            </div>
            <form id="form-submit-stream">
                <div class="modal-body">
                    <label>You have not specified a stream to watch. Please enter a key below
                        <input class="form-control" id="stream-name">
                    </label>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-outline-dark" type="submit">Save changes</button>
                </div>
            </form>
        </div>
    </div>
</div>


<script src="main.js"></script>
</body>
</html>
